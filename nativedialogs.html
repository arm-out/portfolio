<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Native Dialogs</title>
    <script type="text/javascript" src="/lib/src/purify.min.js"></script>
  </head>
  <body>
    <h1>Native Dialogs</h1>
    <button type="button" id="b1">Alert</button>
    <button type="button" id="b2">Confirm</button>
    <button type="button" id="b3">Prompt</button>
    <button type="button" id="b4">Safer Prompt</button> <br> <br>
    <output id="out"></output>

    <script type="module">
      window.addEventListener("DOMContentLoaded", init);

      function init() {
        let b1 = document.getElementById("b1");
        let b2 = document.getElementById("b2");
        let b3 = document.getElementById("b3");
        let b4 = document.getElementById("b4");
        let output = document.getElementById("out");

        b1.addEventListener("click", () => {
          alert("Alert button pressed!");
        });

        b2.addEventListener("click", () => {
          let choice = confirm("Please confirm");
          output.innerText = `The value returned by the confirm method is : ${choice}`;
        });

        b3.addEventListener("click", () => {
          let input = prompt("Please enter your name");
          output.innerHTML = input ? `Prompt input: ${input}` : "User didn’t enter anything";
        });

        b4.addEventListener("click", () => {
          let dirty = prompt("Please enter your name");
          let clean = DOMPurify.sanitize(dirty);
          output.innerHTML = dirty ? `Prompt input: ${clean}` : "User didn’t enter anything";
        });
      }
    </script>
  </body>
</html>
